let achievements = [
	{
		"Title": "Baby Steps",
		"Body": "Compete at your first tournament.",
		"Points": 1,
	},
	{
		"Title": "Trauma",
		"Body": "Make it to your first break round.",
		"Points": 1,
	},
	{
		"Title": "Best of the Worst",
		"Body": "Win your first prelim round.",
		"Points": 1,
	},
	{
		"Title": "One Small Step for Nathan",
		"Body": "Win your first tournament.",
		"Points": 3,
	},
	{
		"Title": "Coldbody",
		"Body": "Qualify to states in a non-Congress event.",
		"Points": 1,
	},
	{
		"Title": "There are Champions Among Us",
		"Body": "Qualify to states.",
		"Points": 1,
	},
	{
		"Title": "The Wizard of OSDA",
		"Body": "Bid into states.",
		"Points": 1,
	},
	{
		"Title": "Tik Talk",
		"Body": "Final at States.",
		"Points": 3,
	},
	{
		"Title": "Affordable College",
		"Body": "Win states.",
		"Points": 10,
	},
	{
		"Title": "The Experience",
		"Body": "Go to nationals in supplementals or Big Question Debate.",
		"Points": 1,
	},
	{
		"Title": "Poor",
		"Body": "Qualify to nationals.",
		"Points": 3,
	},
	{
		"Title": "Kind of a Big Deal",
		"Body": "Final at nationals.",
		"Points": 10,
	},
	{
		"Title": "Texas Roadkill",
		"Body": "Compete at Last Chance.",
		"Points": 1,
	},
	{
		"Title": "Filthy Rich",
		"Body": "Compete at a nats circuit tournament.",
		"Points": 1,
	},
	{
		"Title": "Catholic Debate",
		"Body": "Compete at Cat Nats.",
		"Points": 1,
	},
	{
		"Title": "Don't Touch Me!",
		"Body": "Compete at your first online tournament.",
		"Points": 1,
	},
	{
		"Title": "Precedence and Recency",
		"Body": "Preside for the first time.",
		"Points": 1,
	},
	{
		"Title": "Lines Everywhere",
		"Body": "Memorize precedence and recency while competing.",
		"Points": 1,
	},
	{
		"Title": "Docket and Loaded",
		"Body": "Fully prep your first docket without borrowing speeches.",
		"Points": 2,
	},
	{
		"Title": "Perry's Blunder",
		"Body": "Prep both sides of every bill without borrowing speeches.",
		"Points": 2,
	},
	{
		"Title": "Friend of Speech",
		"Body": "Warmbody for speech.",
		"Points": 1,
	},
	{
		"Title": "Friend of Debate",
		"Body": "Warmbody for Debate.",
		"Points": 1,
	},
	{
		"Title": "Friend of Team",
		"Body": "Earn an officer or department head position in the team.",
		"Points": 3,
	},
	{
		"Title": "Friend of Congress",
		"Body": "Become the Congress squad leader.",
		"Points": 3,
	},
	{
		"Title": "Leader of Team",
		"Body": "Win the president election.",
		"Points": 3,
	},
	{
		"Title": "November Tournament Streak",
		"Body": "Compete at every November tournament.",
		"Points": 1,
	},
	{
		"Title": "December Tournament Streak",
		"Body": "Compete at every December tournament.",
		"Points": 1,
	},
	{
		"Title": "January Tournament Streak",
		"Body": "Compete at every January tournament.",
		"Points": 1,
	},
	{
		"Title": "Preseason Meeting Streak",
		"Body": "Attend every September and October meeting including one-on-one meetings. Exceptions: Illness, scheduling conflict, Coaching MS.",
		"Points": 1,
	},
	{
		"Title": "November Meeting Streak",
		"Body": "Attend every November meeting including one-on-one meetings. Exceptions: Illness, scheduling conflict, Coaching MS.",
		"Points": 1,
	},
	{
		"Title": "December Meeting Streak",
		"Body": "Attend every December meeting including one-on-one meetings. Exceptions: Illness, scheduling conflict, Coaching MS.",
		"Points": 1,
	},
	{
		"Title": "January Meeting Streak",
		"Body": "Attend every January meeting including one-on-one meetings. Exceptions: Illness, scheduling conflict, Coaching MS.",
		"Points": 1,
	},
	{
		"Title": "Qualifier Meeting Streak",
		"Body": "Attend every February and March meeting including one-on-one meetings. Exceptions: Illness, scheduling conflict, Coaching MS.",
		"Points": 1,
	},
	{
		"Title": "Postseason Meeting Streak",
		"Body": "Attend every April and May meeting including one-on-one meetings. Exceptions: Illness, scheduling conflict, Coaching MS.",
		"Points": 1,
	},
	{
		"Title": "Summer Meeting Streak",
		"Body": "Attend every June, July and August meeting including one-on-one meetings.",
		"Points": 1,
	},
	{
		"Title": "King of Champions",
		"Body": "Win a Stow practice bracket.",
		"Points": 1,
	},
	{
		"Title": "Taking Time Off",
		"Body": "Attend a debate camp.",
		"Points": 1,
	},
	{
		"Title": "Nathan's Favorite Anime",
		"Body": "Watch Code Geass.",
		"Points": 1,
	},
	{
		"Title": "Lukas's Favorite Anime",
		"Body": "Watch Neon Genesis Evangellion.",
		"Points": 1,
	},
	{
		"Title": "Kristian's Favorite Anime",
		"Body": "Watch Toradora.",
		"Points": 1,
	},
	{
		"Title": "Andrew's Favorite Anime",
		"Body": "Watch Maquia: When the Promised Flower Blooms.",
		"Points": 1,
	},
];

/*
	{
		"Title": "",
		"Body": ".",
		"Points": ,
	},

*/
let competitors = [
	{
		"Name": "Andrew",
		"Completed": [
			"Baby Steps",
			"Trauma",
			"Best of the Worst",
			"Coldbody",
			"There are Champions Among Us",
			"The Wizard of OSDA",
			"Poor",
			"Don't Touch Me!",
			"Precedence and Recency",
			"Lines Everywhere",
			"Friend of Speech",
			"Friend of Team",
			"Friend of Congress",
			"Kristian's Favorite Anime",
			"Andrew's Favorite Anime",
		],
		"Points": 0,
	},
	{
		"Name": "Bandrew",
		"Completed": [
			"Baby Steps",
			"Trauma",
			"There are Champions Among Us",
			"The Wizard of OSDA",
			"Precedence and Recency",
			"Friend of Debate",
		],
		"Points": 0,
	},
	{
		"Name": "Chad",
		"Completed": [
			"Baby Steps",
			"Trauma",
			"There are Champions Among Us",
			"Don't Touch Me!",
			"Precedence and Recency",
			"Friend of Speech",
		],
		"Points": 0,
	},
	{
		"Name": "Griffin",
		"Completed": [
			"Baby Steps",
			"Trauma",
			"Coldbody",
			"There are Champions Among Us",
			"Don't Touch Me!",
			"Precedence and Recency",
			"Friend of Speech",
			"Friend of Team",
		],
		"Points": 0,
	},
	{
		"Name": "Jacob",
		"Completed": [
			"Baby Steps",
			"Trauma",
			"There are Champions Among Us",
			"Don't Touch Me!",
			"Precedence and Recency",
			"Friend of Speech",
		],
		"Points": 0,
	},
	{
		"Name": "Jenny",
		"Completed": [
			"Baby Steps",
			"There are Champions Among Us",
			"Precedence and Recency",
		],
		"Points": 0,
	},
	{
		"Name": "Kristian",
		"Completed": [
			"Baby Steps",
			"Trauma",
			"Best of the Worst",
			"Don't Touch Me!",
			"Precedence and Recency",
			"Friend of Speech",
			"Kristian's Favorite Anime",
		],
		"Points": 0,
	},
	{
		"Name": "Lukas",
		"Completed": [
			"Baby Steps",
			"Trauma",
			"There are Champions Among Us",
			"The Wizard of OSDA",
			"Precedence and Recency",
			"Docket and Loaded",
			"Friend of Debate",
			"Lukas's Favorite Anime",
		],
		"Points": 0,
	},
	{
		"Name": "Nadia",
		"Completed": [
			"Baby Steps",
			"Trauma",
			"There are Champions Among Us",
			"Don't Touch Me!",
			"Precedence and Recency",
			"Friend of Speech",
			"Nathan's Favorite Anime",
		],
		"Points": 0,
	},
	{
		"Name": "Nathan",
		"Completed": [
			"Baby Steps",
			"Trauma",
			"One Small Step for Nathan",
			"Coldbody",
			"There are Champions Among Us",
			"The Wizard of OSDA",
			"Tik Talk",
			"Poor",
			"Don't Touch Me!",
			"Precedence and Recency",
			"Lines Everywhere",
			"Friend of Speech",
			"Friend of Congress",
			"King of Champions",
			"Nathan's Favorite Anime",
			"Lukas's Favorite Anime",
		],
		"Points": 0,
	},
];
var competitor;

function init()
{
	loadAchievements();
	loadPoints();
	$(".show-more").on("click", function() {
		var $this = $(this);
		var $content = $this.prev("div.content");
		var linkText = $this.text().toUpperCase();

		console.log($content);

		if(linkText === "SHOW MORE"){
			linkText = "Show less";
			$content.addClass("showContent");
			$content.removeClass("hideContent");
			
		} else {
			linkText = "Show more";
			$content.addClass("hideContent");
			$content.removeClass("showContent");
		};

		$this.text(linkText);
	});
}
function signIn()
{
	const signIn = document.querySelector("#sign-in");
	let user = signIn.value;
	competitor = competitors.find(item => item.Name === user);
	
	console.log(competitor);
	
	const button = document.querySelector("#sign-in-button");
	
	signIn.remove();
	button.remove();
	
	init();
}
function loadPoints()
{
	const pointCounter = document.querySelector("#pointCounter");
	pointCounter.textContent = "Points: " + competitor.Points;
}

function loadAchievements()
{
	

	//import achievements from "./achievements.json" assert { type: "JSON" };
	
	for (var i = 0; i < achievements.length; i++)
	{
		loadSingleAchievement(achievements[i], true);
	}
	
	// cycle through achievements.html
		// loadSingleAchievement(achievement, true)
}
function loadSingleAchievement(achievement, completed)
{
	
	
	const achList = document.querySelector("#achievementsList");
	const template = document.querySelector("#achievementBox");
	
	const clone = template.content.cloneNode(true);
	
	const achTitle = clone.querySelector(".achTitle");
	achTitle.textContent = achievement.Title;
	clone.querySelector(".achBody").textContent = achievement.Body;
	clone.querySelector(".achPoints").textContent = "Points: " + achievement.Points;
	
	if (competitor.Completed.includes(achievement.Title))
	{
		clone.querySelector(".achievementBox").classList.add("achievement-completed");
		achTitle.textContent = achievement.Title + " (Complete)";
	}
	
	const achCompleters = clone.querySelector(".achCompleters");
	const achCompletersText = clone.querySelector(".achCompletersText");
	
	let completers = [];
	
	for (let i = 0; i < competitors.length; i++)
	{
		if (competitors[i].Completed.includes(achievement.Title))
			completers.push(competitors[i].Name);
	}
	
	if (completers.length == 0)
	{
		achCompletersText.textContent = "Uncompleted";
		achCompleters.remove();
	}
	else
		for (let i = 0; i < completers.length; i++)
		{
			let liCompleter = document.createElement("li");
			liCompleter.textContent = completers[i];
			
			achCompleters.appendChild(liCompleter);
		}
	
	achList.appendChild(clone);
}

